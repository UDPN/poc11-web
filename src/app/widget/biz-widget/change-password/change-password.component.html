<form nz-form [formGroup]="validateForm">
  <nz-form-item>
    <nz-form-label [nzSm]="6" [nzXs]="24" nzRequired nzFor="oldPwd"
      >Original password</nz-form-label
    >
    <nz-form-control [nzSm]="14" [nzXs]="24" [nzErrorTip]="oldPwdTpl">
      <input
        nz-input
        formControlName="oldPwd"
        id="oldPwd"
        placeholder="Original password"
      />
      <ng-template #oldPwdTpl let-control>
        <ng-container *ngIf="control.hasError('required')"
          >The Original password is required</ng-container
        >
      </ng-template>
    </nz-form-control>
  </nz-form-item>
  <nz-form-item>
    <nz-form-label [nzSm]="6" [nzXs]="24" nzRequired nzFor="newPwd"
      >New password</nz-form-label
    >
    <nz-form-control [nzSm]="14" [nzXs]="24" [nzErrorTip]="newPwdTpl">
      <nz-input-group [nzSuffix]="suffixTemplate1">
        <input
          nz-input
          [type]="passwordVisible ? 'text' : 'password'"
          (ngModelChange)="updateConfirmValidator()"
          formControlName="newPwd"
          id="newPwd"
          placeholder="New password"
        />
      </nz-input-group>
      <password-strength-meter [password]="newPwd"></password-strength-meter>
      <ng-template #suffixTemplate1>
        <i
          nz-icon
          [nzType]="passwordVisible ? 'eye-invisible' : 'eye'"
          (click)="passwordVisible = !passwordVisible"
        ></i>
      </ng-template>
      <ng-template #newPwdTpl let-control>
        <ng-container *ngIf="control.hasError('required')"
          >The New password is required</ng-container
        >
        <ng-container *ngIf="control.hasError('regular')"
          >Combination of 8-20 letters and numbers with at least one capital
          letter.
        </ng-container>
        <ng-container *ngIf="control.hasError('confirm')"
          >The new password must be inconsistent with the original password.
        </ng-container>
      </ng-template>
    </nz-form-control>
  </nz-form-item>
  <nz-form-item>
    <nz-form-label [nzSm]="6" [nzXs]="24" nzRequired nzFor="verifyPwd"
      >Verify password</nz-form-label
    >
    <nz-form-control [nzSm]="14" [nzXs]="24" [nzErrorTip]="verifyPwdTpl">
      <nz-input-group [nzSuffix]="suffixTemplate">
        <input
          nz-input
          [type]="compirePasswordVisible ? 'text' : 'password'"
          formControlName="verifyPwd"
          id="verifyPwd"
          placeholder="Verify password"
        />
      </nz-input-group>
      <ng-template #suffixTemplate>
        <i
          nz-icon
          [nzType]="compirePasswordVisible ? 'eye-invisible' : 'eye'"
          (click)="compirePasswordVisible = !compirePasswordVisible"
        ></i>
      </ng-template>
      <ng-template #verifyPwdTpl let-control>
        <ng-container *ngIf="control.hasError('required')"
          >The Verify password is required</ng-container
        >
        <ng-container *ngIf="control.hasError('confirm')"
          >The verify password must be consistent with the new
          password.</ng-container
        >
      </ng-template>
    </nz-form-control>
  </nz-form-item>
</form>
<!-- <ng-template #combineTpl let-control>
  <ng-container *ngIf="control.hasError('message')">{{
    control.errors.message
  }}</ng-container>
  <ng-container *ngIf="control.hasError('required')">required</ng-container>
</ng-template> -->
